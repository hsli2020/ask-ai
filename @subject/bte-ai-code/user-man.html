<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Admin · Create/Update User · BTE WMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  :root{ --bg:#f5f7fb; --card:#fff; --line:#e3e8f0; --text:#0f172a; --muted:#5b6b80; --acc1:#2563eb; --acc2:#06b6d4; --err:#dc2626; --ok:#16a34a; }
  body{margin:0;font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}
  .wrap{max-width:820px;margin:28px auto;padding:0 16px}
  .hero{background:linear-gradient(90deg,var(--acc1),var(--acc2));color:#fff;border-radius:14px;padding:14px 16px;display:flex;justify-content:space-between;align-items:center}
  .card{background:var(--card);border:1px solid var(--line);border-radius:12px;box-shadow:0 8px 22px rgba(2,6,23,.06);padding:14px;margin-top:14px}
  h1{margin:0;font-size:20px}
  h2{margin:0 0 10px}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  input,select{border:1px solid #cbd5e1;border-radius:10px;padding:10px 12px;font-size:15px}
  .btn{border:none;border-radius:10px;padding:10px 14px;color:#fff;cursor:pointer;font-weight:800;background:linear-gradient(90deg,#2563eb,#06b6d4)}
  table{width:100%;border-collapse:separate;border-spacing:0;margin-top:6px}
  thead th{position:sticky;top:0;background:#f3f6fb;border-bottom:1px solid var(--line);text-align:left;padding:10px}
  tbody td{border-bottom:1px solid var(--line);padding:10px}
  tr:nth-child(even){background:#fafcff}
  .alerts{margin-top:10px}
  .alert{background:#f8fafc;border:1px solid var(--line);border-radius:10px;padding:8px 10px;margin-bottom:8px}
  .ok{color:var(--ok)} .err{color:var(--err)}
  .muted{color:var(--muted);font-size:13px}
  .links{display:flex;gap:10px;flex-wrap:wrap}
  a.btn-link{display:inline-block;background:#e2e8f0;color:#0f172a;padding:8px 12px;border-radius:10px;text-decoration:none;font-weight:700}
</style>
</head>
<body>
<div class="wrap">
  <div class="hero">
    <h1>Admin · Create/Update User</h1>
    <div class="links">
              <a class="btn-link" href="/dataexchange/warehouse.php">App</a>
        <a class="btn-link" href="/dataexchange/manage_users.php">Manage Users</a>
        <a class="btn-link" href="/dataexchange/logout.php">Logout</a>
          </div>
  </div>

  
  <div class="card">
    <h2>Create or Update a User</h2>
    <form method="post" class="row" autocomplete="off">
              <input type="hidden" name="csrf" value="91c885afcf1929624ded53aa4afbc28b">
            <input name="id"
           placeholder="Leave blank for auto (e.g., BTE132)"
           value="BTE132">
      <input name="name" placeholder="Name (optional)">
      <input name="password" placeholder="Password (required for new)">
      <select name="role" title="Role" >
        <option value="admin" selected>admin</option><option value="manager" >manager</option><option value="worker" >worker</option>      </select>
      <button class="btn" type="submit">Save</button>
    </form>
    <div class="muted" style="margin-top:8px">
              New users need a password. Existing users: leave password blank to keep current.
          </div>
  </div>

    <div class="card">
    <h2>Current Users (admin view)</h2>
    <table>
      <thead><tr><th style="width:25%">ID</th><th style="width:35%">Name</th><th style="width:25%">Role</th><th style="width:15%">Admin?</th></tr></thead>
      <tbody>
                  <tr>
            <td><code>BTE001</code></td>
            <td>Roy</td>
            <td>admin</td>
            <td>✅</td>
          </tr>
                  <tr>
            <td><code>BTE050</code></td>
            <td>Daniel</td>
            <td>manager</td>
            <td>—</td>
          </tr>
                  <tr>
            <td><code>BTE051</code></td>
            <td>iris</td>
            <td>manager</td>
            <td>—</td>
          </tr>
                  <tr>
            <td><code>BTE100</code></td>
            <td>stella</td>
            <td>manager</td>
            <td>—</td>
          </tr>
                  <tr>
            <td><code>BTE101</code></td>
            <td>leah</td>
            <td>worker</td>
            <td>—</td>
          </tr>
                  <tr>
            <td><code>BTE130</code></td>
            <td>Tim</td>
            <td>worker</td>
            <td>—</td>
          </tr>
                  <tr>
            <td><code>BTE131</code></td>
            <td>adrian</td>
            <td>worker</td>
            <td>—</td>
          </tr>
              </tbody>
    </table>
    <div class="muted" style="margin-top:8px">
      Users file: <code>D:\DataExchange/data/auth/users.json</code><br>
      Tip: Keep at least one admin. You can also manage users in <b>manage_users.php</b>.
    </div>
  </div>
  </div>
</body>
</html>
