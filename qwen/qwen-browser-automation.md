# å®ç°æµè§ˆå™¨è‡ªåŠ¨åŒ–æœ‰å“ªäº›æ–¹æ¡ˆå¯é€‰ï¼Œæ¯ç§æ–¹æ¡ˆçš„ä¼˜ç¼ºç‚¹

å®ç°æµè§ˆå™¨è‡ªåŠ¨åŒ–æœ‰å¤šç§æ–¹æ¡ˆï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼ˆå¦‚æµ‹è¯•ã€çˆ¬è™«ã€æ•°æ®é‡‡é›†ã€UI è‡ªåŠ¨åŒ–ç­‰ï¼‰ã€‚ä»¥ä¸‹æ˜¯ä¸»æµçš„å‡ ç§æ–¹æ¡ˆåŠå…¶ä¼˜ç¼ºç‚¹å¯¹æ¯”ï¼š

---

## 1. **Selenium**

### ç®€ä»‹ï¼š
Selenium æ˜¯æœ€ç»å…¸çš„æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ”¯æŒå¤šç§è¯­è¨€ï¼ˆPythonã€Javaã€JavaScriptã€C# ç­‰ï¼‰ï¼Œå¯æ§åˆ¶çœŸå®æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge ç­‰ï¼‰ã€‚

### ä¼˜ç‚¹ï¼š
- **åŠŸèƒ½å¼ºå¤§**ï¼šæ”¯æŒå®Œæ•´çš„ DOM æ“ä½œã€è¡¨å•æäº¤ã€ç‚¹å‡»ã€æ‹–æ‹½ã€æˆªå›¾ç­‰ã€‚
- **è·¨æµè§ˆå™¨æ”¯æŒ**ï¼šå…¼å®¹ Chromeã€Firefoxã€Safariã€Edge ç­‰ã€‚
- **ç¤¾åŒºæˆç†Ÿ**ï¼šæ–‡æ¡£ä¸°å¯Œï¼Œç”Ÿæ€å®Œå–„ï¼Œå¹¿æ³›ç”¨äº Web UI æµ‹è¯•ã€‚
- **æ”¯æŒ Headless æ¨¡å¼**ï¼šå¯åœ¨æ— ç•Œé¢ç¯å¢ƒä¸‹è¿è¡Œï¼ˆèŠ‚çœèµ„æºï¼‰ã€‚

### ç¼ºç‚¹ï¼š
- **æ€§èƒ½å¼€é”€å¤§**ï¼šå¯åŠ¨çœŸå®æµè§ˆå™¨ï¼Œå†…å­˜å’Œ CPU æ¶ˆè€—é«˜ã€‚
- **é€Ÿåº¦è¾ƒæ…¢**ï¼šç›¸æ¯”çº¯ HTTP è¯·æ±‚æˆ–è½»é‡çº§æ–¹æ¡ˆï¼Œæ‰§è¡Œæ•ˆç‡ä½ã€‚
- **ç»´æŠ¤æˆæœ¬é«˜**ï¼šéœ€ç®¡ç†æµè§ˆå™¨é©±åŠ¨ï¼ˆå¦‚ chromedriverï¼‰ï¼Œç‰ˆæœ¬éœ€åŒ¹é…ã€‚
- **æ˜“è¢«åçˆ¬è¯†åˆ«**ï¼šè‡ªåŠ¨åŒ–ç‰¹å¾æ˜æ˜¾ï¼ˆå¦‚ WebDriver å±æ€§ï¼‰ï¼Œå®¹æ˜“è¢«ç½‘ç«™æ£€æµ‹ã€‚

---

## 2. **Playwright**

### ç®€ä»‹ï¼š
ç”± Microsoft å¼€å‘çš„æ–°ä¸€ä»£æµè§ˆå™¨è‡ªåŠ¨åŒ–å·¥å…·ï¼Œæ”¯æŒ Chromiumã€WebKitã€Firefoxï¼ŒAPI ç°ä»£ä¸”åŠŸèƒ½å¼ºå¤§ã€‚

### ä¼˜ç‚¹ï¼š
- **é€Ÿåº¦å¿«ã€ç¨³å®šæ€§é«˜**ï¼šåŸºäº WebSocket ä¸æµè§ˆå™¨é€šä¿¡ï¼Œæ¯” Selenium æ›´é«˜æ•ˆã€‚
- **è‡ªåŠ¨ç­‰å¾…æœºåˆ¶**ï¼šå†…ç½®æ™ºèƒ½ç­‰å¾…ï¼Œå‡å°‘ flaky æµ‹è¯•ã€‚
- **å¤šæµè§ˆå™¨æ”¯æŒ**ï¼šåŒä¸€ API æ§åˆ¶ä¸‰å¤§å¼•æ“ã€‚
- **æ”¯æŒç§»åŠ¨ç«¯æ¨¡æ‹Ÿã€ç½‘ç»œæ‹¦æˆªã€æˆªå›¾/å½•å±ç­‰é«˜çº§åŠŸèƒ½**ã€‚
- **Headless é»˜è®¤æ”¯æŒ**ï¼Œä¸”æ›´è½»é‡ã€‚
- **ä¸æ˜“è¢«æ£€æµ‹**ï¼šå¯é€šè¿‡é…ç½®éšè—è‡ªåŠ¨åŒ–ç—•è¿¹ï¼ˆå¦‚ç§»é™¤ `navigator.webdriver`ï¼‰ã€‚

### ç¼ºç‚¹ï¼š
- **ç›¸å¯¹è¾ƒæ–°**ï¼šè™½ç„¶å‘å±•è¿…é€Ÿï¼Œä½†éƒ¨åˆ†ä¼ä¸šä»åœ¨è¯„ä¼°è¿ç§»æˆæœ¬ã€‚
- **ç”Ÿæ€ç•¥é€Šäº Selenium**ï¼šç¬¬ä¸‰æ–¹æ’ä»¶å’Œé›†æˆå·¥å…·è¾ƒå°‘ï¼ˆä½†æ­£åœ¨å¿«é€Ÿå¢é•¿ï¼‰ã€‚
- **å­¦ä¹ æ›²çº¿**ï¼šå¯¹æ–°æ‰‹å¯èƒ½éœ€è¦é€‚åº”å…¶å¼‚æ­¥æ¨¡å‹ï¼ˆå°¤å…¶åœ¨ Python/JS ä¸­ï¼‰ã€‚

---

## 3. **Puppeteer**

### ç®€ä»‹ï¼š
ç”± Google å¼€å‘ï¼Œä¸“ä¸º Chromium/Chrome è®¾è®¡çš„ Node.js åº“ã€‚

### ä¼˜ç‚¹ï¼š
- **ä¸ Chrome æ·±åº¦é›†æˆ**ï¼šæ”¯æŒ DevTools åè®®ï¼ŒåŠŸèƒ½éå¸¸å¼ºå¤§ã€‚
- **é«˜æ€§èƒ½**ï¼šç›´æ¥é€šè¿‡ CDPï¼ˆChrome DevTools Protocolï¼‰é€šä¿¡ã€‚
- **é€‚åˆçˆ¬è™«å’Œæˆªå›¾**ï¼šå¸¸ç”¨äºç”Ÿæˆ PDFã€ç½‘é¡µå¿«ç…§ã€SPA æ¸²æŸ“ç­‰ã€‚
- **Headless æ”¯æŒä¼˜ç§€**ã€‚

### ç¼ºç‚¹ï¼š
- **ä»…æ”¯æŒ Chromium ç³»æµè§ˆå™¨**ï¼šæ— æ³•æµ‹è¯• Firefox æˆ– Safariã€‚
- **Node.js ä¸“å±**ï¼šè™½æœ‰éå®˜æ–¹ Python å°è£…ï¼ˆå¦‚ pyppeteerï¼‰ï¼Œä½†å®˜æ–¹ä¸ç»´æŠ¤ã€‚
- **åŒæ ·å¯èƒ½è¢«åçˆ¬æ£€æµ‹**ï¼šéœ€é¢å¤–é…ç½®ç»•è¿‡æ£€æµ‹ã€‚

---

## 4. **Requests + BeautifulSoup / lxmlï¼ˆéæµè§ˆå™¨æ–¹æ¡ˆï¼‰**

### ç®€ä»‹ï¼š
ä¸ä½¿ç”¨çœŸå®æµè§ˆå™¨ï¼Œè€Œæ˜¯ç›´æ¥å‘é€ HTTP è¯·æ±‚å¹¶è§£æ HTMLã€‚

### ä¼˜ç‚¹ï¼š
- **æå¿«ã€è½»é‡**ï¼šæ— æµè§ˆå™¨å¼€é”€ï¼Œé€‚åˆå¤§è§„æ¨¡æ•°æ®æŠ“å–ã€‚
- **èµ„æºæ¶ˆè€—ä½**ï¼šé€‚åˆéƒ¨ç½²åœ¨æœåŠ¡å™¨æˆ–å®¹å™¨ä¸­ã€‚
- **æ˜“äºå¹¶å‘**ï¼šé…åˆ asyncio æˆ–å¤šçº¿ç¨‹æ•ˆç‡é«˜ã€‚

### ç¼ºç‚¹ï¼š
- **æ— æ³•å¤„ç† JavaScript æ¸²æŸ“å†…å®¹**ï¼šå¯¹ SPAï¼ˆå¦‚ React/Vueï¼‰ç½‘ç«™æ— æ•ˆã€‚
- **æ— æ³•æ¨¡æ‹Ÿç”¨æˆ·äº¤äº’**ï¼šå¦‚ç‚¹å‡»ã€æ»šåŠ¨ã€æ‹–æ‹½ç­‰ã€‚
- **éœ€æ‰‹åŠ¨å¤„ç† Cookieã€Sessionã€CSRF ç­‰**ï¼Œå¤æ‚é€»è¾‘éš¾ç»´æŠ¤ã€‚

> âœ… é€‚ç”¨åœºæ™¯ï¼šé™æ€é¡µé¢æŠ“å–ã€API è°ƒç”¨ã€ç®€å•è¡¨å•æäº¤ã€‚

---

## 5. **Scrapy + Splashï¼ˆæ··åˆæ–¹æ¡ˆï¼‰**

### ç®€ä»‹ï¼š
Scrapy æ˜¯ Python çˆ¬è™«æ¡†æ¶ï¼ŒSplash æ˜¯è½»é‡çº§æµè§ˆå™¨æ¸²æŸ“æœåŠ¡ï¼ˆåŸºäº WebKitï¼‰ã€‚

### ä¼˜ç‚¹ï¼š
- **Scrapy é«˜æ•ˆ + Splash æ¸²æŸ“ JS**ï¼šå…¼é¡¾é€Ÿåº¦ä¸åŠ¨æ€å†…å®¹æ”¯æŒã€‚
- **å¯åˆ†å¸ƒå¼éƒ¨ç½²**ã€‚

### ç¼ºç‚¹ï¼š
- **æ¶æ„å¤æ‚**ï¼šéœ€ç»´æŠ¤ Splash æœåŠ¡ã€‚
- **Splash æ€§èƒ½æœ‰é™**ï¼šä¸å¦‚ Playwright/Puppeteer ç¨³å®šã€‚
- **ç¤¾åŒºæ´»è·ƒåº¦ä¸‹é™**ï¼šè¿‘å¹´è¢« Playwright ç­‰å–ä»£ã€‚

---

## 6. **Cypress / TestCafeï¼ˆå‰ç«¯æµ‹è¯•ä¸“ç”¨ï¼‰**

### ç®€ä»‹ï¼š
ä¸»è¦ç”¨äºå‰ç«¯ E2E æµ‹è¯•ï¼Œè¿è¡Œåœ¨æµè§ˆå™¨å†…éƒ¨ã€‚

### ä¼˜ç‚¹ï¼š
- **è°ƒè¯•ä½“éªŒæä½³**ï¼šæ—¶é—´æ—…è¡Œã€å®æ—¶é‡è½½ç­‰ã€‚
- **æ— éœ€ WebDriver**ï¼šç›´æ¥æ³¨å…¥è„šæœ¬ï¼Œæ›´ç¨³å®šã€‚
- **è‡ªåŠ¨ç­‰å¾…ã€æˆªå›¾ã€è§†é¢‘å½•åˆ¶**ã€‚

### ç¼ºç‚¹ï¼š
- **ä»…é™æµ‹è¯•åœºæ™¯**ï¼šä¸é€‚åˆçˆ¬è™«æˆ–é€šç”¨è‡ªåŠ¨åŒ–ã€‚
- **Cypress æ—©æœŸä»…æ”¯æŒ Chromiumï¼ˆç°å·²æ”¯æŒå¤šæµè§ˆå™¨ï¼‰**ã€‚
- **ä¸èƒ½è·¨åŸŸæ“ä½œå¤šä¸ª tab æˆ–çª—å£**ï¼ˆå—é™äºåŒæºç­–ç•¥ï¼‰ã€‚

---

## æ–¹æ¡ˆå¯¹æ¯”æ€»ç»“è¡¨ï¼š

| æ–¹æ¡ˆ            | è¯­è¨€æ”¯æŒ       | æµè§ˆå™¨æ”¯æŒ     | æ˜¯å¦æ”¯æŒ JS æ¸²æŸ“ | é€Ÿåº¦   | åçˆ¬éš¾åº¦ | é€‚ç”¨åœºæ™¯               |
|-----------------|----------------|----------------|------------------|--------|----------|------------------------|
| **Selenium**    | å¤šè¯­è¨€         | å…¨ä¸»æµæµè§ˆå™¨   | âœ…                | æ…¢     | é«˜       | UI æµ‹è¯•ã€é€šç”¨è‡ªåŠ¨åŒ–    |
| **Playwright**  | å¤šè¯­è¨€         | Chromium/WebKit/Firefox | âœ…        | å¿«     | ä¸­       | æµ‹è¯•ã€çˆ¬è™«ã€è‡ªåŠ¨åŒ–     |
| **Puppeteer**   | ä¸»è¦ Node.js   | Chromium       | âœ…                | å¿«     | ä¸­       | çˆ¬è™«ã€æˆªå›¾ã€PDF ç”Ÿæˆ   |
| **Requests+BS4**| Python ç­‰      | æ—              | âŒ                | æå¿«   | ä½       | é™æ€é¡µé¢æŠ“å–           |
| **Scrapy+Splash**| Python        | WebKitï¼ˆSplashï¼‰| âœ…               | ä¸­     | ä¸­       | åŠ¨æ€çˆ¬è™«ï¼ˆé€æ¸æ·˜æ±°ï¼‰   |
| **Cypress**     | JavaScript     | Chromium/Firefox | âœ…              | ä¸­     | é«˜       | å‰ç«¯ E2E æµ‹è¯•          |

---

## æ¨èé€‰æ‹©å»ºè®®ï¼š

- **åš Web UI è‡ªåŠ¨åŒ–æµ‹è¯•** â†’ **Playwright**ï¼ˆé¦–é€‰ï¼‰æˆ– **Selenium**ï¼ˆå…¼å®¹æ—§ç³»ç»Ÿï¼‰ã€‚
- **åšåŠ¨æ€ç½‘é¡µçˆ¬è™«** â†’ **Playwright**ï¼ˆæ¨èï¼‰æˆ– **Puppeteer**ï¼ˆè‹¥åªç”¨ Chromeï¼‰ã€‚
- **æŠ“å–é™æ€é¡µé¢** â†’ **Requests + BeautifulSoup**ã€‚
- **éœ€è¦æè‡´è°ƒè¯•ä½“éªŒçš„å‰ç«¯æµ‹è¯•** â†’ **Cypress**ã€‚
- **é¿å…è¢«åçˆ¬** â†’ ä½¿ç”¨ Playwright å¹¶é…ç½® `stealth` æ’ä»¶ï¼ˆå¦‚ `playwright-stealth`ï¼‰ã€‚

---

å¦‚éœ€è¿›ä¸€æ­¥æ ¹æ®å…·ä½“é¡¹ç›®éœ€æ±‚ï¼ˆå¦‚è¯­è¨€æ ˆã€ç›®æ ‡ç½‘ç«™ã€æ˜¯å¦éœ€ç™»å½•ã€æ˜¯å¦éœ€é«˜å¹¶å‘ç­‰ï¼‰é€‰å‹ï¼Œå¯æä¾›æ›´å¤šä¿¡æ¯ï¼Œæˆ‘å¯ä»¥ç»™å‡ºæ›´ç²¾å‡†å»ºè®®ã€‚


# å¦‚æœç”¨golangè¯­è¨€ç¼–å†™æµè§ˆå™¨è‡ªåŠ¨åŒ–é¡¹ç›®ï¼Œæœ‰å“ªäº›åº“å¯é€‰ï¼Ÿ

åœ¨ Goï¼ˆGolangï¼‰è¯­è¨€ä¸­å®ç°æµè§ˆå™¨è‡ªåŠ¨åŒ–ï¼Œè™½ç„¶ä¸åƒ Python æˆ– JavaScript é‚£æ ·ç”Ÿæ€ä¸°å¯Œï¼Œä½†è¿‘å¹´æ¥å·²æœ‰å¤šä¸ªæˆç†Ÿæˆ–æ´»è·ƒçš„åº“å¯ä¾›é€‰æ‹©ã€‚ä»¥ä¸‹æ˜¯ä¸»æµçš„ Go æµè§ˆå™¨è‡ªåŠ¨åŒ–æ–¹æ¡ˆåŠå…¶ä¼˜ç¼ºç‚¹åˆ†æï¼ˆæˆªè‡³ 2026 å¹´ï¼‰ï¼š

---

## âœ… ä¸»æµ Go æµè§ˆå™¨è‡ªåŠ¨åŒ–åº“

### 1. **chromedp**ï¼ˆæ¨è â˜…â˜…â˜…â˜…â˜…ï¼‰

> GitHub: https://github.com/chromedp/chromedp  
> åŸºäº Chrome DevTools Protocol (CDP)ï¼Œæ— éœ€ Seleniumã€‚

#### ç‰¹ç‚¹ï¼š
- ç›´æ¥ä¸ Chromium/Chrome é€šä¿¡ï¼Œ**æ— éœ€ WebDriver**ã€‚
- ä½¿ç”¨åŸç”Ÿ Go ç¼–å†™ï¼Œ**æ— å¤–éƒ¨ä¾èµ–**ï¼ˆé™¤äº†æœ¬åœ°æˆ–è¿œç¨‹çš„ Chrome å®ä¾‹ï¼‰ã€‚
- æ”¯æŒ Headless æ¨¡å¼ã€æˆªå›¾ã€PDF ç”Ÿæˆã€JS æ‰§è¡Œã€ç½‘ç»œæ‹¦æˆªã€DOM æ“ä½œç­‰ã€‚
- API è®¾è®¡ç®€æ´ï¼Œç¬¦åˆ Go é£æ ¼ï¼ˆåŸºäº context å’Œå‡½æ•°å¼æ“ä½œï¼‰ã€‚

#### ç¤ºä¾‹ä»£ç ï¼š
```go
package main

import (
	"context"
	"log"
	"github.com/chromedp/chromedp"
)

func main() {
	ctx, cancel := chromedp.NewContext(context.Background())
	defer cancel()

	var title string
	err := chromedp.Run(ctx,
		chromedp.Navigate("https://example.com"),
		chromedp.Title(&title),
	)
	if err != nil {
		log.Fatal(err)
	}
	log.Println("Page title:", title)
}
```

#### ä¼˜ç‚¹ï¼š
- **é«˜æ€§èƒ½ã€ä½å»¶è¿Ÿ**ï¼ˆç›´æ¥ CDP é€šä¿¡ï¼‰ã€‚
- **è½»é‡ã€çº¯ Go**ï¼Œæ˜“äºé›†æˆåˆ°æœåŠ¡ä¸­ã€‚
- **æ´»è·ƒç»´æŠ¤**ï¼ˆGoogle å·¥ç¨‹å¸ˆå‚ä¸ï¼‰ã€‚
- å¯é€šè¿‡ `chromedp.ExecAllocator` æ§åˆ¶å¯åŠ¨å‚æ•°ï¼ˆå¦‚ç¦ç”¨ GPUã€è®¾ç½® UAã€éšè—è‡ªåŠ¨åŒ–ç‰¹å¾ç­‰ï¼‰ï¼Œ**è¾ƒéš¾è¢«åçˆ¬æ£€æµ‹**ã€‚

#### ç¼ºç‚¹ï¼š
- **ä»…æ”¯æŒ Chromium ç³»æµè§ˆå™¨**ï¼ˆChromeã€Edgeã€Brave ç­‰ï¼‰ï¼Œä¸æ”¯æŒ Firefox/Safariã€‚
- å¯¹å¤æ‚äº¤äº’ï¼ˆå¦‚æ–‡ä»¶ä¸Šä¼ ã€å¼¹çª—å¤„ç†ï¼‰éœ€ç†Ÿæ‚‰ CDP åè®®ç»†èŠ‚ã€‚

> âœ… **é€‚ç”¨åœºæ™¯**ï¼šçˆ¬è™«ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æˆªå›¾/PDF æœåŠ¡ã€RPA ç­‰ã€‚

---

### 2. **rod**ï¼ˆæ¨è â˜…â˜…â˜…â˜…â˜†ï¼‰

> GitHub: https://github.com/go-rod/rod  
> å— Puppeteer å¯å‘ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼ŒAPI æ›´é«˜çº§ã€‚

#### ç‰¹ç‚¹ï¼š
- åŸºäº CDPï¼Œä½†å°è£…äº†æ›´äººæ€§åŒ–çš„ APIï¼ˆç±»ä¼¼ Puppeteerï¼‰ã€‚
- å†…ç½® **åæ£€æµ‹æœºåˆ¶**ï¼ˆå¦‚è‡ªåŠ¨ç§»é™¤ `navigator.webdriver`ã€éšæœºåŒ–æŒ‡çº¹ç­‰ï¼‰ã€‚
- æ”¯æŒ **çƒ­é‡å¯ã€å…ƒç´ ç­‰å¾…ã€é¼ æ ‡/é”®ç›˜æ¨¡æ‹Ÿã€iframe åˆ‡æ¢ã€æ–‡ä»¶ä¸‹è½½**ç­‰ã€‚
- æä¾› `launcher` è‡ªåŠ¨ç®¡ç† Chrome å®ä¾‹ï¼ˆå¯è‡ªåŠ¨ä¸‹è½½ Chromiumï¼‰ã€‚

#### ç¤ºä¾‹ä»£ç ï¼š
```go
package main

import "github.com/go-rod/rod"

func main() {
	page := rod.New().MustConnect().MustPage("https://example.com")
	title := page.MustElement("title").MustText()
	println(title)
}
```

#### ä¼˜ç‚¹ï¼š
- **ä¸“ä¸ºç»•è¿‡åçˆ¬è®¾è®¡**ï¼Œé€‚åˆå¯¹æŠ—æ€§å¼ºçš„ç½‘ç«™ã€‚
- **API æ›´ç›´è§‚**ï¼Œå¼€å‘æ•ˆç‡é«˜ã€‚
- å†…ç½®é‡è¯•ã€ç­‰å¾…ã€è°ƒè¯•å·¥å…·ï¼ˆå¦‚ `page.Screenshot()`ã€`page.WaitOpen()`ï¼‰ã€‚
- æ”¯æŒ **å¤šé¡µé¢ã€å¤šæ ‡ç­¾ã€WebSocket ç›‘å¬**ç­‰é«˜çº§åŠŸèƒ½ã€‚

#### ç¼ºç‚¹ï¼š
- é¡¹ç›®ç›¸å¯¹è¾ƒæ–°ï¼ˆä½†éå¸¸æ´»è·ƒï¼‰ï¼Œæ–‡æ¡£ä¸å¦‚ chromedp å®Œå–„ã€‚
- åŒæ ·ä»…æ”¯æŒ Chromiumã€‚

> âœ… **é€‚ç”¨åœºæ™¯**ï¼šé«˜å¯¹æŠ—æ€§çˆ¬è™«ã€éœ€è¦æ¨¡æ‹ŸçœŸå®ç”¨æˆ·è¡Œä¸ºçš„è‡ªåŠ¨åŒ–ä»»åŠ¡ã€‚

---

### 3. **selenoid + Golang Selenium Client**

> å®˜æ–¹ Go ç»‘å®šï¼šhttps://github.com/tebeka/selenium  
> æˆ–ä½¿ç”¨ç¤¾åŒºç»´æŠ¤ç‰ˆæœ¬ï¼ˆå¦‚ `github.com/sclevine/agouti`ï¼Œä½†å·²å½’æ¡£ï¼‰

#### ç‰¹ç‚¹ï¼š
- é€šè¿‡ **Selenium WebDriver åè®®** æ§åˆ¶æµè§ˆå™¨ã€‚
- å¯é…åˆ **Selenoid**ï¼ˆDocker åŒ–çš„ Selenium Gridï¼‰å®ç°åˆ†å¸ƒå¼æµè§ˆå™¨æ± ã€‚

#### ä¼˜ç‚¹ï¼š
- **è·¨æµè§ˆå™¨æ”¯æŒ**ï¼ˆChromeã€Firefoxã€Safari ç­‰ï¼‰ã€‚
- é€‚åˆå·²æœ‰ Selenium åŸºç¡€çš„å›¢é˜Ÿã€‚

#### ç¼ºç‚¹ï¼š
- **æ€§èƒ½è¾ƒå·®**ï¼šéœ€å¯åŠ¨ WebDriverï¼Œé€šä¿¡å¼€é”€å¤§ã€‚
- Go çš„ Selenium å®¢æˆ·ç«¯ **ç»´æŠ¤ä¸æ´»è·ƒ**ï¼ˆtebeka/selenium æ›´æ–°æ…¢ï¼‰ã€‚
- é…ç½®å¤æ‚ï¼ˆéœ€ç®¡ç† driverã€gridã€Docker ç­‰ï¼‰ã€‚
- **ææ˜“è¢«åçˆ¬è¯†åˆ«**ï¼ˆWebDriver ç‰¹å¾æ˜æ˜¾ï¼‰ã€‚

> âš ï¸ **ä¸æ¨èç”¨äºæ–°é¡¹ç›®**ï¼Œé™¤éå¿…é¡»æ”¯æŒ Firefox ä¸”æ— æ³•ç”¨å…¶ä»–æ–¹æ¡ˆæ›¿ä»£ã€‚

---

### 4. **gopherjs + Puppeteerï¼ˆéä¸»æµï¼‰**

- ä½¿ç”¨ GopherJS å°† Go ç¼–è¯‘ä¸º JavaScriptï¼Œåœ¨ Node.js ç¯å¢ƒä¸­è°ƒç”¨ Puppeteerã€‚
- **æå…¶å°ä¼—**ï¼Œæ€§èƒ½å·®ã€è°ƒè¯•å›°éš¾ï¼Œ**ä¸æ¨è**ã€‚

---

## ğŸ” æ–¹æ¡ˆå¯¹æ¯”ï¼ˆGo ç”Ÿæ€ï¼‰

| åº“å        | åè®®       | æµè§ˆå™¨æ”¯æŒ     | åçˆ¬èƒ½åŠ› | æ€§èƒ½ | å­¦ä¹ æ›²çº¿ | ç»´æŠ¤çŠ¶æ€ |
|-------------|------------|----------------|----------|------|----------|----------|
| **chromedp** | CDP        | Chromium ç³»    | ä¸­       | é«˜   | ä½       | âœ… æ´»è·ƒ   |
| **rod**      | CDP        | Chromium ç³»    | é«˜       | é«˜   | ä½       | âœ… éå¸¸æ´»è·ƒ |
| **selenium-go** | WebDriver | å¤šæµè§ˆå™¨       | ä½       | ä½   | ä¸­       | âš ï¸ ä¸æ´»è·ƒ |
| å…¶ä»–         | â€”          | â€”              | â€”        | â€”    | â€”        | âŒ ä¸æ¨è |

---

## ğŸ›¡ï¸ å¦‚ä½•é™ä½è¢«åçˆ¬æ£€æµ‹æ¦‚ç‡ï¼ˆGo æ–¹æ¡ˆï¼‰

æ— è®ºæ˜¯ `chromedp` è¿˜æ˜¯ `rod`ï¼Œéƒ½å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼å¢å¼ºéšè”½æ€§ï¼š

1. **ç§»é™¤ WebDriver æ ‡å¿—**ï¼š
   ```go
   // rod ç¤ºä¾‹
   launch := launcher.New().
       Set("disable-blink-features", "AutomationControlled").
       Delete("enable-automation")
   browser := rod.New().ControlURL(launch.MustLaunch()).MustConnect()
   page := browser.MustPage("about:blank")
   page.MustEval(`delete navigator.__proto__.webdriver`)
   ```

2. **è®¾ç½®çœŸå® User-Agentã€å±å¹•åˆ†è¾¨ç‡ã€æ—¶åŒº**ã€‚
3. **æ¨¡æ‹Ÿäººç±»è¡Œä¸º**ï¼šéšæœºå»¶è¿Ÿã€é¼ æ ‡ç§»åŠ¨è½¨è¿¹ï¼ˆrod æ”¯æŒ `Mouse.MoveTo`ï¼‰ã€‚
4. **ä½¿ç”¨ä»£ç† IP**ã€‚
5. **é¿å…é«˜é¢‘è¯·æ±‚**ã€‚

> `rod` å†…ç½®äº† `stealth` æ¨¡å¼ï¼ˆé€šè¿‡ `rod.Try(func() {...})` æˆ–æ‰©å±•ï¼‰ï¼Œå¯ä¸€é”®å¯ç”¨å¸¸è§åæ£€æµ‹ç­–ç•¥ã€‚

---

## âœ… æ¨èé€‰æ‹©

| éœ€æ±‚åœºæ™¯                     | æ¨èåº“     |
|------------------------------|------------|
| é€šç”¨æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€æˆªå›¾ã€PDF  | **chromedp** |
| é«˜å¯¹æŠ—æ€§çˆ¬è™«ã€éœ€ç»•è¿‡åçˆ¬     | **rod**      |
| å¿…é¡»æ”¯æŒ Firefox             | è€ƒè™‘ Playwrightï¼ˆé€šè¿‡ REST API è°ƒç”¨ï¼‰æˆ–æ”¾å¼ƒ Go |
| ä¼ä¸šçº§ Selenium Grid é›†æˆ    | selenium-goï¼ˆè°¨æ…è¯„ä¼°ï¼‰|

---

## ğŸ’¡ è¡¥å……å»ºè®®

- å¦‚æœé¡¹ç›®å¯¹æµè§ˆå™¨å…¼å®¹æ€§è¦æ±‚ä¸é«˜ï¼ˆ90% ç½‘ç«™åœ¨ Chromium ä¸‹æ­£å¸¸ï¼‰ï¼Œ**ä¼˜å…ˆé€‰æ‹© `rod` æˆ– `chromedp`**ã€‚
- `rod` æ›´é€‚åˆâ€œå¼€ç®±å³ç”¨â€çš„çˆ¬è™«é¡¹ç›®ï¼›`chromedp` æ›´é€‚åˆåµŒå…¥åˆ° Go æœåŠ¡ä¸­ï¼ˆå¦‚å¾®æœåŠ¡ä¸­çš„æ¸²æŸ“æ¨¡å—ï¼‰ã€‚
- å¯ç»“åˆ `docker` éƒ¨ç½²æ— å¤´ Chromeï¼Œå®ç°ç¯å¢ƒéš”ç¦»ã€‚

---

å¦‚éœ€å…·ä½“ç¤ºä¾‹ï¼ˆå¦‚ç™»å½•ã€æ»‘å—éªŒè¯ã€æ–‡ä»¶ä¸Šä¼ ç­‰ï¼‰ï¼Œå¯è¿›ä¸€æ­¥è¯´æ˜åœºæ™¯ï¼Œæˆ‘å¯ä»¥æä¾› Go ä»£ç æ¨¡æ¿ã€‚


# ç»™å‡ºç™»é™†ã€æ»‘å—éªŒè¯ã€æ–‡ä»¶ä¸Šä¼ çš„ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä½¿ç”¨ **Go è¯­è¨€** å®ç°æµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¸‰ä¸ªå…¸å‹åœºæ™¯ç¤ºä¾‹ï¼Œå‡åŸºäº **`rod`** åº“ï¼ˆå› å…¶ API æ›´ç®€æ´ã€åçˆ¬èƒ½åŠ›æ›´å¼ºï¼Œä¸”æ´»è·ƒç»´æŠ¤ï¼‰ã€‚æ‰€æœ‰ç¤ºä¾‹å‡è®¾ç›®æ ‡ç½‘ç«™ä¸ºå¸¸è§ç»“æ„ï¼ˆå¦‚ç™»å½•è¡¨å•ã€æ»‘å—éªŒè¯ç ã€æ–‡ä»¶ä¸Šä¼ æŒ‰é’®ï¼‰ï¼Œå¹¶åŒ…å«ç»•è¿‡åŸºç¡€åçˆ¬çš„æŠ€å·§ã€‚ > âœ… å‰æï¼šå·²å®‰è£… Chrome/Chromiumï¼Œå¹¶é€šè¿‡ `go get github.com/go-rod/rod` å¼•å…¥ä¾èµ–ã€‚ --- ## 1. è‡ªåŠ¨ç™»å½•ï¼ˆå«ç”¨æˆ·å/å¯†ç  + é˜²æ£€æµ‹ï¼‰ ```go package main import ( "time" "github.com/go-rod/rod" "github.com/go-rod/rod/lib/launcher" "github.com/go-rod/rod/lib/utils" ) func main() { // å¯åŠ¨å¸¦åæ£€æµ‹å‚æ•°çš„æµè§ˆå™¨ url := launcher.New(). Set("disable-blink-features", "AutomationControlled"). Delete("enable-automation"). MustLaunch() browser := rod.New().ControlURL(url).MustConnect() defer browser.MustClose() page := browser.MustPage("https://example-login.com") // ç§»é™¤ webdriver æ ‡å¿—ï¼ˆå…³é”®ï¼ï¼‰ page.MustEval(`delete navigator.__proto__.webdriver`) // æ¨¡æ‹Ÿäººç±»è¾“å…¥ï¼ˆå¸¦éšæœºå»¶è¿Ÿï¼‰ page.MustElement("#username").MustInput("your_username") time.Sleep(500 * time.Millisecond) page.MustElement("#password").MustInput("your_password") time.Sleep(300 * time.Millisecond) // ç‚¹å‡»ç™»å½•æŒ‰é’® page.MustElement("#login-btn").MustClick() // ç­‰å¾…è·³è½¬æˆ–éªŒè¯æˆåŠŸï¼ˆä¾‹å¦‚æ£€æŸ¥æ˜¯å¦å­˜åœ¨æ¬¢è¿å…ƒç´ ï¼‰ page.MustWaitLoad() utils.Sleep(2) // ç­‰å¾…é¡µé¢ç¨³å®š // å¯é€‰ï¼šæˆªå›¾éªŒè¯ page.MustScreenshot("after-login.png") } ``` > ğŸ”’ **å…³é”®ç‚¹**ï¼š > - ä½¿ç”¨ `launcher` è®¾ç½®å¯åŠ¨å‚æ•°éšè—è‡ªåŠ¨åŒ–ç‰¹å¾ã€‚ > - æ‰§è¡Œ `delete navigator.__proto__.webdriver` ç§»é™¤ JS å±‚æ£€æµ‹æ ‡å¿—ã€‚ > - æ¨¡æ‹Ÿäººå·¥è¾“å…¥å»¶è¿Ÿï¼ˆé¿å…ç¬é—´å¡«å®Œè¢«è¯†åˆ«ï¼‰ã€‚ --- ## 2. æ»‘å—éªŒè¯ç ï¼ˆä»¥æéªŒ geetest ä¸ºä¾‹ï¼‰ > âš ï¸ æ³¨æ„ï¼šæ»‘å—éªŒè¯é€šå¸¸éœ€è¦å›¾åƒè¯†åˆ«æˆ–è½¨è¿¹æ¨¡æ‹Ÿã€‚ä»¥ä¸‹ä¸º**è½¨è¿¹æ¨¡æ‹Ÿæ–¹æ¡ˆ**ï¼ˆé€‚ç”¨äºç®€å•æ»‘å—ï¼‰ï¼Œå¤æ‚åœºæ™¯éœ€ç»“åˆ OCR æˆ–ç¬¬ä¸‰æ–¹æ‰“ç å¹³å°ã€‚ ```go package main import ( "math/rand" "time" "github.com/go-rod/rod" "github.com/go-rod/rod/lib/launcher" "github.com/go-rod/rod/lib/input" ) func main() { url := launcher.New().Set("disable-blink-features", "AutomationControlled").MustLaunch() browser := rod.New().ControlURL(url).MustConnect() defer browser.MustClose() page := browser.MustPage("https://captcha-site.com") page.MustEval(`delete navigator.__proto__.webdriver`) // ç‚¹å‡»è§¦å‘æ»‘å—ï¼ˆå‡è®¾æŒ‰é’® ID ä¸º #trigger-sliderï¼‰ page.MustElement("#trigger-slider").MustClick() time.Sleep(1 * time.Second) // å®šä½æ»‘å—è½¨é“å’Œæ»‘å— track := page.MustElement("#slider-track") // è½¨é“ slider := page.MustElement("#slider-handle") // æ»‘å— // è·å–æ»‘å—ä½ç½®å’Œè½¨é“å®½åº¦ï¼ˆéœ€æ ¹æ®å®é™…é¡µé¢è°ƒæ•´ï¼‰ box := slider.MustShape() trackBox := track.MustShape() distance := trackBox.Width - box.Width // ç›®æ ‡æ»‘åŠ¨è·ç¦»ï¼ˆç®€åŒ–å¤„ç†ï¼‰ // æ¨¡æ‹Ÿäººç±»æ»‘åŠ¨è½¨è¿¹ï¼ˆéåŒ€é€Ÿï¼‰ mouse := page.Mouse mouse.MustMoveTo(box.X+box.Width/2, box.Y+box.Height/2) mouse.MustDown(input.Left) // ç”Ÿæˆå¹³æ»‘è½¨è¿¹ï¼ˆè´å¡å°”æ›²çº¿æˆ–åˆ†æ®µåŠ é€Ÿï¼‰ x := box.X + box.Width/2 y := box.Y + box.Height/2 for i := 0; i < int(distance); i += rand.Intn(5)+1 { x += float64(rand.Intn(3) + 1) // åŠ å…¥å¾®å°ä¸Šä¸‹æŠ–åŠ¨æ¨¡æ‹Ÿæ‰‹æŠ– yOffset := float64(rand.Intn(3)-1) mouse.MustMoveTo(x, y+yOffset) time.Sleep(time.Duration(rand.Intn(30)+10) * time.Millisecond) } mouse.MustUp(input.Left) time.Sleep(1 * time.Second) // éªŒè¯æ˜¯å¦æˆåŠŸï¼ˆæ£€æŸ¥ success å…ƒç´ ï¼‰ if page.MustHas("#captcha-success") { println("æ»‘å—éªŒè¯é€šè¿‡ï¼") } } ``` > ğŸ§  **è¯´æ˜**ï¼š > - æ­¤æ–¹æ¡ˆé€‚ç”¨äº**æ— èƒŒæ™¯å¹²æ‰°çš„ç®€å•æ»‘å—**ã€‚ > - å¯¹äº**å¸¦ç¼ºå£æ‹¼å›¾**ï¼ˆå¦‚æéªŒï¼‰ï¼Œéœ€å…ˆæˆªå›¾ã€OCR è¯†åˆ«ç¼ºå£ä½ç½®ï¼Œå†è®¡ç®—æ»‘åŠ¨è·ç¦»ã€‚ > - æ›´å¯é æ–¹æ¡ˆï¼šé›†æˆ [æ‰“ç å¹³å°](https://github.com/aliyun/dysmsapi)ï¼ˆå¦‚è¶…çº§é¹°ã€æ‰“ç å…”ï¼‰ã€‚ --- ## 3. æ–‡ä»¶ä¸Šä¼  ```go package main import ( "github.com/go-rod/rod" "github.com/go-rod/rod/lib/launcher" ) func main() { url := launcher.New().Set("disable-blink-features", "AutomationControlled").MustLaunch() browser := rod.New().ControlURL(url).MustConnect() defer browser.MustClose() page := browser.MustPage("https://upload-site.com") page.MustEval(`delete navigator.__proto__.webdriver`) // æ–¹å¼ä¸€ï¼šç›´æ¥æ“ä½œ <input type="file">ï¼ˆæ¨èï¼‰ // å‡è®¾ä¸Šä¼ æŒ‰é’®å…³è”äº†ä¸€ä¸ªéšè—çš„ input input := page.MustElement(`input[type="file"]`) input.MustSetFiles("/path/to/your/file.pdf") // æ”¯æŒå¤šæ–‡ä»¶ []string // æ–¹å¼äºŒï¼šå¦‚æœç‚¹å‡»æŒ‰é’®æ‰å¼¹å‡ºæ–‡ä»¶é€‰æ‹©æ¡†ï¼ˆéœ€ç›‘å¬æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼‰ // rod æ”¯æŒæ‹¦æˆªæ–‡ä»¶é€‰æ‹© page.MustHandleDialog(func(d *rod.Dialog) { d.MustAcceptWithFiles("/path/to/your/file.pdf") }) // ç‚¹å‡»ä¸Šä¼ æŒ‰é’®ï¼ˆä¼šè§¦å‘æ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†ï¼‰ page.MustElement("#upload-btn").MustClick() // ç­‰å¾…ä¸Šä¼ å®Œæˆï¼ˆä¾‹å¦‚è¿›åº¦æ¡æ¶ˆå¤±æˆ–æç¤ºå‡ºç°ï¼‰ page.MustElement("#upload-success").MustWaitVisible() println("æ–‡ä»¶ä¸Šä¼ æˆåŠŸï¼") } ``` > ğŸ“Œ **æ³¨æ„**ï¼š > - å¤§å¤šæ•°ç°ä»£ç½‘ç«™ä½¿ç”¨éšè— `<input type="file">`ï¼Œç›´æ¥ `SetFiles()` æœ€å¯é ã€‚ > - è‹¥ç½‘ç«™ä½¿ç”¨è‡ªå®šä¹‰ä¸Šä¼ ç»„ä»¶ï¼ˆå¦‚æ‹–æ‹½åŒºåŸŸï¼‰ï¼Œå¯èƒ½éœ€æ¨¡æ‹Ÿæ‹–æ‹½äº‹ä»¶ï¼ˆ`rod` æ”¯æŒ `Mouse.DragAndDrop`ï¼‰ã€‚ --- ## ğŸ›¡ï¸ é€šç”¨åçˆ¬å¢å¼ºå»ºè®®ï¼ˆæ‰€æœ‰åœºæ™¯ï¼‰ åœ¨ `page` åˆå§‹åŒ–åç»Ÿä¸€æ·»åŠ ï¼š ```go // æ³¨å…¥é˜²æ£€æµ‹è„šæœ¬ page.MustEvalOnNewDocument(` Object.defineProperty(navigator, 'webdriver', { get: () => undefined, }); window.chrome = { runtime: {} }; `) // è®¾ç½®çœŸå® User-Agentï¼ˆå¯ä»çœŸå®æµè§ˆå™¨å¤åˆ¶ï¼‰ page.MustSetUserAgent(&rod.UserAgent{ Spec: "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36", }) // è®¾ç½®å±å¹•åˆ†è¾¨ç‡ä¸æ—¶åŒº page.MustEmulate(rod.EmulateDevice{ Viewport: &rod.Viewport{ Width: 1920, Height: 1080, }, }) ``` --- ## ğŸ“¦ ä¾èµ–å®‰è£… ```bash go mod init my-automation go get github.com/go-rod/rod go get github.com/go-rod/rod/lib/launcher ``` --- ## âš ï¸ æ³•å¾‹ä¸é“å¾·æé†’ - è¯·éµå®ˆç›®æ ‡ç½‘ç«™çš„ `robots.txt` å’ŒæœåŠ¡æ¡æ¬¾ã€‚ - é«˜é¢‘æˆ–ç»•è¿‡éªŒè¯ç çš„è¡Œä¸ºå¯èƒ½è¿åã€Šè®¡ç®—æœºæ¬ºè¯ˆä¸æ»¥ç”¨æ³•ã€‹ç­‰æ³•è§„ã€‚ - ä»…ç”¨äºåˆæ³•æˆæƒçš„æµ‹è¯•ã€RPA æˆ–ä¸ªäººå­¦ä¹ ã€‚ --- å¦‚éœ€é’ˆå¯¹**ç‰¹å®šç½‘ç«™**ï¼ˆå¦‚æ·˜å®ã€12306ã€é“¶è¡Œç³»ç»Ÿï¼‰çš„å®Œæ•´æ–¹æ¡ˆï¼Œå› æ¶‰åŠåŠ¨æ€åŠ å¯†ã€è¡Œä¸ºåˆ†æç­‰é«˜çº§åçˆ¬ï¼Œå»ºè®®ç»“åˆ **Playwright + ä»£ç†æ±  + æ‰“ç å¹³å°**ï¼Œæˆ–ä½¿ç”¨ä¸“ä¸š RPA å·¥å…·ã€‚Go çš„ `rod` åœ¨ä¸­ç­‰å¯¹æŠ—åœºæ™¯ä¸‹è¡¨ç°ä¼˜å¼‚ï¼Œä½†é¢å¯¹é¡¶çº§é£æ§ä»éœ€è°¨æ…ã€‚
